version = "1.0.0"
measurements:
(
    {
        name: "tcp_link_health",
        fields:
        (
            {
                description: "tgid of process",
                type: "key",
                name: "tgid",
            },
            {
                description: "role",
                type: "key",
                name: "role",
            },
            {
                description: "client ip",
                type: "key",
                name: "client_ip",
            },
            {
                description: "server ip",
                type: "key",
                name: "server_ip",
            },
            {
                description: "client port",
                type: "key",
                name: "client_port",
            },
            {
                description: "server port",
                type: "key",
                name: "server_port",
            },
            {
                description: "protocol",
                type: "key",
                name: "protocol",
            },
            {
                description: "rx bytes",
                type: "gauge",
                name: "rx_bytes",
            },
            {
                description: "tx bytes",
                type: "gauge",
                name: "tx_bytes",
            },
            {
                description: "retrans packets",
                type: "gauge",
                name: "retran_packets",
            },
            {
                description: "tcp drop counter",
                type: "gauge",
                name: "sk_drops",
            },
            {
                description: "drops caused by backlog queue full",
                type: "gauge",
                name: "backlog_drops",
            },
            {
                description: "drops caused by socket filter",
                type: "gauge",
                name: "filter_drops",
            },
            {
                description: "counter of tcp link timeout",
                type: "gauge",
                name: "tmout_count",
            },
            {
                description: "counter of sk_receive_queue is full",
                type: "gauge",
                name: "rcv_que_full_count",
            },
            {
                description: "counter of limits when allocate wmem",
                type: "gauge",
                name: "snd_buf_limit_count",
            },
            {
                description: "tcp establish failed counter",
                type: "gauge",
                name: "attempt_fails",
            },
            {
                description: "rmem is not enough",
                type: "gauge",
                name: "rmem_scheduls",
            },
            {
                description: "tcp out of memory",
                type: "gauge",
                name: "tcp_oom",
            },
            {
                description: "sk_err",
                type: "gauge",
                name: "sk_err",
            },
            {
                description: "sk_err_soft",
                type: "gauge",
                name: "sk_err_soft",
            }
        )
    }
)
